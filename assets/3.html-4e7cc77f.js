import{_ as p,r as e,o,c,e as i,w as l,f as a,a as n,b as s}from"./app-02fa1acf.js";const u={},r=a(`<h1 id="thisç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#thisç®€ä»‹" aria-hidden="true">#</a> thisç®€ä»‹</h1><p>ä¸€èˆ¬æ¥è¯´ï¼Œthiså°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘è°ƒç”¨å‡½æ•°çš„å¯¹è±¡</p><h2 id="thisçš„ç»‘å®šè§„åˆ™" tabindex="-1"><a class="header-anchor" href="#thisçš„ç»‘å®šè§„åˆ™" aria-hidden="true">#</a> thisçš„ç»‘å®šè§„åˆ™</h2><ul><li>é»˜è®¤ç»‘å®š</li><li>éšå¼ç»‘å®š</li><li>æ˜¾ç¤ºç»‘å®š</li><li>newç»‘å®š</li></ul><h3 id="é»˜è®¤ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤ç»‘å®š" aria-hidden="true">#</a> é»˜è®¤ç»‘å®š</h3><p>é»˜è®¤ç»‘å®šï¼Œåœ¨ä¸èƒ½åº”ç”¨å…¶å®ƒç»‘å®šè§„åˆ™æ—¶ä½¿ç”¨çš„é»˜è®¤è§„åˆ™ï¼Œé€šå¸¸æ˜¯ç‹¬ç«‹å‡½æ•°è°ƒç”¨ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello,&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;YvetteLau&#39;</span><span class="token punctuation">;</span>
<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Hello,YvetteLau</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è°ƒç”¨Hi()æ—¶ï¼Œåº”ç”¨äº†é»˜è®¤ç»‘å®šï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisæŒ‡å‘undefinedï¼Œundefinedä¸Šæ²¡æœ‰thiså¯¹è±¡ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</p><h3 id="éšå¼ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#éšå¼ç»‘å®š" aria-hidden="true">#</a> éšå¼ç»‘å®š</h3><p>å‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨æŸä¸ªå¯¹è±¡ä¸Šè§¦å‘çš„ï¼Œå³è°ƒç”¨ä½ç½®ä¸Šå­˜åœ¨ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚å…¸å‹çš„å½¢å¼ä¸º XXX.fun()ã€‚é’ˆå¯¹æ­¤ç±»é—®é¢˜ï¼Œæˆ‘å»ºè®®å¤§å®¶åªéœ€ç‰¢ç‰¢è®°ä½è¿™ä¸ªæ ¼å¼:XXX.fn();fn()å‰å¦‚æœä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œé‚£ä¹ˆè‚¯å®šä¸æ˜¯éšå¼ç»‘å®šã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;Global&#39;</span>
<span class="token keyword">const</span> fish <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Fish&#39;</span><span class="token punctuation">,</span>
 <span class="token function-variable function">greet</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello, I am &#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

fish<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello, I am  Fish</span>

<span class="token keyword">const</span> greetCopy <span class="token operator">=</span> fish<span class="token punctuation">.</span>greet<span class="token punctuation">;</span>

<span class="token function">greetCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Chrome: Hello, I am  Global</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ä½ ä½¿ç”¨â€œç‚¹â€æ“ä½œç¬¦ <code>.</code> æ¥è°ƒç”¨ <code>greet</code> å‡½æ•°çš„æ—¶å€™ï¼Œ<code>fish.greet()</code> ï¼Œ<code>this</code> æŒ‡å‘äº† <code>fish</code> ï¼Œ<code>fish</code> æ­£æ˜¯å®šä¹‰äº† <code>greet</code> æ–¹æ³•çš„é‚£ä¸ªå¯¹è±¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç§° <code>fish</code> æ˜¯è¿™ä¸ªå‡½æ•°çš„è°ƒç”¨è€…ã€‚(è°è°ƒç”¨æŒ‡å‘è°)</p><p>äº‹å®ä¸Šï¼Œfish.greet åœ¨å†…å­˜ä¸­åªæ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ã€‚ä¸ç®¡å®ƒæ˜¯åœ¨ä»€ä¹ˆå¯¹è±¡ä¸­å®šä¹‰çš„ï¼Œå®ƒéƒ½å¯ä»¥å’Œæ™®é€šçš„å‡½æ•°ä¸€æ ·ï¼Œèµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œæ¯”å¦‚å‰é¢çš„ greetCopy ã€‚å¦‚æœä½ ç”¨ console.log æ‰“å° console.log(fish.greet) æˆ–è€… console.log(greetCopy) ï¼Œæ§åˆ¶å°è¾“å‡ºçš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fish<span class="token punctuation">.</span>greet<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function () { â€¦ }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greetCopy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function () { â€¦ }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ ä¸ç”¨è°ƒç”¨è€…æ˜¾å¼åœ°è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼ˆç¬¦åˆé»˜è®¤ç»‘å®šï¼‰ï¼ŒJS çš„è§£é‡Šå™¨å°±ä¼šæŠŠå…¨å±€å¯¹è±¡å½“ä½œè°ƒç”¨è€…ã€‚æ‰€ä»¥ greetCopy() è¿™ä¸ªè¯­å¥åœ¨ Chrome ä¸­çš„è¡Œä¸ºå°±å’Œ greetCopy.call(window) æ˜¯ä¸€æ ·çš„,å…¶å®å°±æ˜¯çœ‹<code>()</code>å‰é¢çš„è¡¨è¾¾å¼,å¦‚æœæœ‰ç‚¹æ“ä½œç¬¦åˆ™ç¬¦åˆéšå¼è°ƒç”¨ï¼Œå¦‚æœæ²¡æœ‰thisä¸ºå…¨å±€ï¼ˆå¯å‚è€ƒjsé«˜çº§æ–‡ç« ä¸­thisè§„èŒƒè§£é‡Šï¼‰</p><p>å†ä¸¾ä¸ªğŸŒ°</p>`,16),k=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" jerry "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token function-variable function"},"sayThis"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// `this` æŒ‡å‘ä»€ä¹ˆï¼Ÿ"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`

    `),n("span",{class:"token function-variable function"},"exec"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"cb"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},","),n("span",{class:"token string"},"'exec'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token comment"},"//jerry"),s(`
        `),n("span",{class:"token function"},"cb"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`

    `),n("span",{class:"token function-variable function"},"render"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},","),n("span",{class:"token string"},"'render'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token comment"},"//jerry"),s(`
        `),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"exec"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},"."),s("sayThis"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

jerry`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"render"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),d=a(`<p>å½“è¿™ä¸ªç¨‹åºè¿è¡Œåˆ° <code>exec</code> å‡½æ•°çš„æ—¶å€™ï¼Œè¿™é‡Œ cb åœ¨è°ƒç”¨çš„æ—¶å€™å¹¶æ²¡æœ‰æ˜¾å¼çš„è°ƒç”¨è€…ï¼Œæ‰€ä»¥æ­¤æ—¶ï¼Œthis åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹å°±ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å°±ä¼šæŒ‡å‘ undefined ã€‚<br> å³ä½¿æˆ‘ä»¬ä½¿ç”¨ç‚¹æ“ä½œç¬¦. æ¥æ˜¾å¼åœ°è°ƒç”¨ exec æ–¹æ³•ï¼Œç„¶è€Œ cb å‡½æ•°ä»ç„¶æ²¡æœ‰ä¸€ä¸ªæ˜¾å¼çš„è°ƒç”¨è€…ã€‚å› æ­¤ï¼Œä½ å°±ä¼šçœ‹åˆ° this æŒ‡å‘äº†å…¨å±€å¯¹è±¡ã€‚ä½†æ˜¯execå‡½æ•°å’Œrenderå†…çš„thisä¾ç„¶ç¬¦åˆéšå¼ç»‘å®šè§„åˆ™ã€‚</p><h3 id="æ˜¾å¼ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#æ˜¾å¼ç»‘å®š" aria-hidden="true">#</a> æ˜¾å¼ç»‘å®š</h3><p>æ˜¾å¼ç»‘å®šæ¯”è¾ƒå¥½ç†è§£ï¼Œå°±æ˜¯é€šè¿‡call,apply,bindçš„æ–¹å¼ï¼Œæ˜¾å¼çš„æŒ‡å®šthisæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello,&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;YvetteLau&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sayHi</span><span class="token operator">:</span> sayHi
<span class="token punctuation">}</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;Wiliam&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Hi <span class="token operator">=</span> person<span class="token punctuation">.</span>sayHi<span class="token punctuation">;</span>
<span class="token function">Hi</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Hi.apply(person)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆï¼Œä½¿ç”¨äº†æ˜¾å¼ç»‘å®šï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€ä¸ä¼šå‡ºç°éšå¼ç»‘å®šæ‰€é‡åˆ°çš„ç»‘å®šä¸¢å¤±å‘¢ï¼Ÿæ˜¾ç„¶ä¸æ˜¯è¿™æ ·çš„ï¼Œä¸ä¿¡ï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello,&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;YvetteLau&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sayHi</span><span class="token operator">:</span> sayHi
<span class="token punctuation">}</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;Wiliam&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">Hi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">Hi</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> person<span class="token punctuation">.</span>sayHi<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Hi.call(person, person.sayHi)çš„ç¡®æ˜¯å°†thisç»‘å®šåˆ°Hiä¸­çš„thisäº†ã€‚ä½†æ˜¯åœ¨æ‰§è¡Œfnçš„æ—¶å€™ï¼Œç›¸å½“äºç›´æ¥è°ƒç”¨äº†sayHiæ–¹æ³•(è®°ä½: person.sayHiå·²ç»è¢«èµ‹å€¼ç»™fnäº†ï¼Œéšå¼ç»‘å®šä¹Ÿä¸¢äº†)ï¼Œæ²¡æœ‰æŒ‡å®šthisçš„å€¼,fnæ²¡æœ‰è°ƒç”¨å®ƒçš„å¯¹è±¡ï¼ˆé»˜è®¤ç»‘å®šï¼‰</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¸Œæœ›ç»‘å®šä¸ä¼šä¸¢å¤±ï¼Œè¦æ€ä¹ˆåšï¼Ÿå¾ˆç®€å•ï¼Œè°ƒç”¨fnçš„æ—¶å€™ï¼Œä¹Ÿç»™å®ƒæ˜¾å¼ç»‘å®šã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello,&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;YvetteLau&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sayHi</span><span class="token operator">:</span> sayHi
<span class="token punctuation">}</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;Wiliam&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">Hi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">Hi</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> person<span class="token punctuation">.</span>sayHi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶ï¼Œè¾“å‡ºçš„ç»“æœä¸º: Hello, YvetteLauï¼Œå› ä¸ºpersonè¢«ç»‘å®šåˆ°Hiå‡½æ•°ä¸­çš„thisä¸Šï¼Œfnåˆå°†è¿™ä¸ªå¯¹è±¡ç»‘å®šç»™äº†sayHiçš„å‡½æ•°ã€‚è¿™æ—¶ï¼ŒsayHiä¸­çš„thisæŒ‡å‘çš„å°±æ˜¯personå¯¹è±¡ã€‚</p><h3 id="new-ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#new-ç»‘å®š" aria-hidden="true">#</a> new ç»‘å®š</h3><div class="hint-container info"><p class="hint-container-title">ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œæ„é€ å‡½æ•°ä¸­çš„thisæŒ‡å‘è¿™ä¸ªç©ºå¯¹è±¡</li><li>è¿™ä¸ªæ–°å¯¹è±¡è¢«æ‰§è¡Œ [[åŸå‹]] è¿æ¥</li><li>æ‰§è¡Œæ„é€ å‡½æ•°æ–¹æ³•ï¼Œå±æ€§å’Œæ–¹æ³•è¢«æ·»åŠ åˆ°thiså¼•ç”¨çš„å¯¹è±¡ä¸­</li><li>å¦‚æœæ„é€ å‡½æ•°ä¸­æ²¡æœ‰è¿”å›å…¶å®ƒå¯¹è±¡ï¼Œé‚£ä¹ˆè¿”å›thisï¼Œå³åˆ›å»ºçš„è¿™ä¸ªçš„æ–°å¯¹è±¡ï¼Œå¦åˆ™ï¼Œè¿”å›æ„é€ å‡½æ•°ä¸­è¿”å›çš„å¯¹è±¡ã€‚</li></ol></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">_new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//åˆ›å»ºçš„æ–°å¯¹è±¡</span>
    <span class="token comment">//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ„é€ å‡½æ•°</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>constructor<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//æ‰§è¡Œ[[åŸå‹]]è¿æ¥;target æ˜¯ constructor çš„å®ä¾‹</span>
    target<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
    <span class="token comment">//æ‰§è¡Œæ„é€ å‡½æ•°ï¼Œå°†å±æ€§æˆ–æ–¹æ³•æ·»åŠ åˆ°åˆ›å»ºçš„ç©ºå¯¹è±¡ä¸Š</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//å¦‚æœæ„é€ å‡½æ•°æ‰§è¡Œçš„ç»“æ„è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿”å›è¿™ä¸ªå¯¹è±¡</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//å¦‚æœæ„é€ å‡½æ•°è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›åˆ›å»ºçš„æ–°å¯¹è±¡</span>
    <span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šæ–°å¯¹è±¡ç»‘å®šåˆ°è¿™ä¸ªå‡½æ•°çš„thisä¸Šã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	
<span class="token punctuation">}</span>
<span class="token keyword">var</span> Hi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">sayHi</span><span class="token punctuation">(</span><span class="token string">&#39;Yevtte&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Hello,&#39;</span><span class="token punctuation">,</span> Hi<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœä¸º Hello, Yevtte, åŸå› æ˜¯å› ä¸ºåœ¨var Hi = new sayHi(&#39;Yevtte&#39;);è¿™ä¸€æ­¥ï¼Œä¼šå°†sayHiä¸­çš„thisç»‘å®šåˆ°Hiå¯¹è±¡ä¸Šã€‚</p><h3 id="ç»‘å®šä¼˜å…ˆçº§" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šä¼˜å…ˆçº§" aria-hidden="true">#</a> ç»‘å®šä¼˜å…ˆçº§</h3><p>æˆ‘ä»¬çŸ¥é“äº†thisæœ‰å››ç§ç»‘å®šè§„åˆ™ï¼Œä½†æ˜¯å¦‚æœåŒæ—¶åº”ç”¨äº†å¤šç§è§„åˆ™ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><p>æ˜¾ç„¶ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å“ªä¸€ç§ç»‘å®šæ–¹å¼çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œè¿™å››ç§ç»‘å®šçš„ä¼˜å…ˆçº§ä¸º:</p><p>newç»‘å®š &gt; æ˜¾å¼ç»‘å®š &gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®š</p><h2 id="ç®­å¤´å‡½æ•°çš„this" tabindex="-1"><a class="header-anchor" href="#ç®­å¤´å‡½æ•°çš„this" aria-hidden="true">#</a> ç®­å¤´å‡½æ•°çš„this</h2><p>ç®­å¤´å‡½æ•°ä¸ä½¿ç”¨thisçš„å››ç§æ ‡å‡†è§„åˆ™ï¼Œè€Œæ˜¯æ ¹æ®æœ€è¿‘å¤–å±‚ï¼ˆå‡½æ•°æˆ–è€…å…¨å±€ï¼‰ä½œç”¨åŸŸæ¥å†³å®šthisã€‚</p><p>æˆ‘ä»¬æ¥çœ‹çœ‹ç®­å¤´å‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">hi</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">sayHi</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//6</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> hi <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">hi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è¾“å‡ºobjå¯¹è±¡ 1</span>
<span class="token function">hi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//è¾“å‡ºobjå¯¹è±¡ 2 å–æœ€è¿‘ä¸€å±‚å‡½æ•°ä½œç”¨åŸŸå³ hiçš„thisï¼ˆ1ï¼‰</span>
<span class="token keyword">let</span> sayHi <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºobjå¯¹è±¡ 3</span>
<span class="token keyword">let</span> fun1 <span class="token operator">=</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡ºwindow 4</span>
<span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//è¾“å‡ºwindow 5 å–æœ€è¿‘ä¸€å±‚å‡½æ•°ä½œç”¨åŸŸå³ åŒ¿åå‡½æ•°çš„thisï¼ˆ4ï¼‰</span>
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//è¾“å‡ºwindow 6 ç®­å¤´å‡½æ•°å¤–æ— å…¶å®ƒå‡½æ•°ä½œç”¨åŸŸï¼Œåªæœ‰å…¨å±€ä½œç”¨åŸŸï¼Œæ•…ä¸ºwindow</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,24);function v(m,b){const t=e("CodeDemo");return o(),c("div",null,[r,i(t,{id:"code-demo-61",type:"normal",title:"%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E4%B8%AD%E7%9A%84this",code:"eJyrVsoqVrJSSs7PKy5RyEotKqpUsFWojslTAILixMqQjMxiK4W00rzkksz8PAUNTZgcCIA05eek6uXkp2uUABVqWivo6yskgJgJCs962p9OmPhkd8OTnR3v98yH6KrVicmDsFIrUpORDU5Owmu0jjpIg7qmvj7YjUgKkzQ0rdENL0rNS0ktItrdOuoQDViMB0nrgawGK9SDhgiyjbUgS8G69CCmAN0DCoYX+yY/bd/1fPfkZ/PmPJuxHikgYvKUagHjcoP3"},{default:l(()=>[k]),_:1}),d])}const y=p(u,[["render",v],["__file","3.html.vue"]]);export{y as default};
